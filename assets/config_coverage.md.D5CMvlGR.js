import{_ as l,b as t,o as n,i as r,j as e,S as i,g as o,R as h}from"./chunks/framework.XDTXXE-5.js";const f=JSON.parse('{"title":"coverage | Config","description":"","frontmatter":{"title":"coverage | Config","outline":"deep"},"headers":[],"relativePath":"config/coverage.md","filePath":"config/coverage.md","lastUpdated":1771601921000}'),p={name:"config/coverage.md"},c={id:"coverage",tabindex:"-1"};function d(g,s,k,E,u,v){const a=t("CRoot");return n(),r("div",null,[e("h1",c,[s[0]||(s[0]=i("coverage ",-1)),o(a),s[1]||(s[1]=i()),s[2]||(s[2]=e("a",{class:"header-anchor",href:"#coverage","aria-label":"Permalink to “coverage”"},"​",-1))]),s[3]||(s[3]=h(`<p>You can use <a href="/guide/coverage.html#v8-provider"><code>v8</code></a>, <a href="/guide/coverage.html#istanbul-provider"><code>istanbul</code></a> or <a href="/guide/coverage.html#custom-coverage-provider">a custom coverage solution</a> for coverage collection.</p><p>You can provide coverage options to CLI with dot notation:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitest</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --coverage.enabled</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --coverage.provider=istanbul</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title custom-block-title-default">WARNING</p><p>If you are using coverage options with dot notation, don&#39;t forget to specify <code>--coverage.enabled</code>. Do not provide a single <code>--coverage</code> option in that case.</p></div><h2 id="coverage-provider" tabindex="-1">coverage.provider <a class="header-anchor" href="#coverage-provider" aria-label="Permalink to “coverage.provider”">​</a></h2><ul><li><strong>Type:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39; | &#39;custom&#39;</code></li><li><strong>Default:</strong> <code>&#39;v8&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.provider=&lt;provider&gt;</code></li></ul><p>Use <code>provider</code> to select the tool for coverage collection.</p><h2 id="coverage-enabled" tabindex="-1">coverage.enabled <a class="header-anchor" href="#coverage-enabled" aria-label="Permalink to “coverage.enabled”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.enabled</code>, <code>--coverage.enabled=false</code></li></ul><p>Enables coverage collection. Can be overridden using <code>--coverage</code> CLI option.</p><h2 id="coverage-include" tabindex="-1">coverage.include <a class="header-anchor" href="#coverage-include" aria-label="Permalink to “coverage.include”">​</a></h2><ul><li><strong>Type:</strong> <code>string[]</code></li><li><strong>Default:</strong> Files that were imported during test run</li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.include=&lt;pattern&gt;</code>, <code>--coverage.include=&lt;pattern1&gt; --coverage.include=&lt;pattern2&gt;</code></li></ul><p>List of files included in coverage as glob patterns. By default only files covered by tests are included.</p><p>It is recommended to pass file extensions in the pattern.</p><p>See <a href="/guide/coverage.html#including-and-excluding-files-from-coverage-report">Including and excluding files from coverage report</a> for examples.</p><h2 id="coverage-exclude" tabindex="-1">coverage.exclude <a class="header-anchor" href="#coverage-exclude" aria-label="Permalink to “coverage.exclude”">​</a></h2><ul><li><strong>Type:</strong> <code>string[]</code></li><li><strong>Default:</strong> : <code>[]</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.exclude=&lt;path&gt;</code>, <code>--coverage.exclude=&lt;path1&gt; --coverage.exclude=&lt;path2&gt;</code></li></ul><p>List of files excluded from coverage as glob patterns.</p><p>See <a href="/guide/coverage.html#including-and-excluding-files-from-coverage-report">Including and excluding files from coverage report</a> for examples.</p><h2 id="coverage-clean" tabindex="-1">coverage.clean <a class="header-anchor" href="#coverage-clean" aria-label="Permalink to “coverage.clean”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>true</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.clean</code>, <code>--coverage.clean=false</code></li></ul><p>Clean coverage results before running tests</p><h2 id="coverage-cleanonrerun" tabindex="-1">coverage.cleanOnRerun <a class="header-anchor" href="#coverage-cleanonrerun" aria-label="Permalink to “coverage.cleanOnRerun”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>true</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.cleanOnRerun</code>, <code>--coverage.cleanOnRerun=false</code></li></ul><p>Clean coverage report on watch rerun. Set to <code>false</code> to preserve coverage results from previous run in watch mode.</p><h2 id="coverage-reportsdirectory" tabindex="-1">coverage.reportsDirectory <a class="header-anchor" href="#coverage-reportsdirectory" aria-label="Permalink to “coverage.reportsDirectory”">​</a></h2><ul><li><strong>Type:</strong> <code>string</code></li><li><strong>Default:</strong> <code>&#39;./coverage&#39;</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.reportsDirectory=&lt;path&gt;</code></li></ul><div class="warning custom-block"><p class="custom-block-title custom-block-title-default">WARNING</p><p>Vitest will delete this directory before running tests if <code>coverage.clean</code> is enabled (default value).</p></div><p>Directory to write coverage report to.</p><h2 id="coverage-reporter" tabindex="-1">coverage.reporter <a class="header-anchor" href="#coverage-reporter" aria-label="Permalink to “coverage.reporter”">​</a></h2><ul><li><strong>Type:</strong> <code>string | string[] | [string, {}][]</code></li><li><strong>Default:</strong> <code>[&#39;text&#39;, &#39;html&#39;, &#39;clover&#39;, &#39;json&#39;]</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.reporter=&lt;reporter&gt;</code>, <code>--coverage.reporter=&lt;reporter1&gt; --coverage.reporter=&lt;reporter2&gt;</code></li></ul><p>Coverage reporters to use. See <a href="https://istanbul.js.org/docs/advanced/alternative-reporters/" target="_blank" rel="noreferrer">istanbul documentation</a> for detailed list of all reporters. See <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/blob/276d95e4304b3670eaf6e8e5a7ea9e265a14e338/types/istanbul-reports/index.d.ts" target="_blank" rel="noreferrer"><code>@types/istanbul-reports</code></a> for details about reporter specific options.</p><p>The reporter has three different types:</p><ul><li>A single reporter: <code>{ reporter: &#39;html&#39; }</code></li><li>Multiple reporters without options: <code>{ reporter: [&#39;html&#39;, &#39;json&#39;] }</code></li><li>A single or multiple reporters with reporter options: <div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;lcov&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;projectRoot&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;coverage.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><p>You can also pass custom coverage reporters. See <a href="/guide/coverage.html#custom-coverage-reporter">Guide - Custom Coverage Reporter</a> for more information.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Specify reporter using name of the NPM package</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;@vitest/custom-coverage-reporter&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@vitest/custom-coverage-reporter&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { someOption: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Specify reporter using local path</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;/absolute/path/to/custom-reporter.cjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/absolute/path/to/custom-reporter.cjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { someOption: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre></div><p>You can check your coverage report in Vitest UI: check <a href="/guide/coverage.html#vitest-ui">Vitest UI Coverage</a> for more details.</p><h2 id="coverage-reportonfailure" tabindex="-1">coverage.reportOnFailure <a class="header-anchor" href="#coverage-reportonfailure" aria-label="Permalink to “coverage.reportOnFailure”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.reportOnFailure</code>, <code>--coverage.reportOnFailure=false</code></li></ul><p>Generate coverage report even when tests fail.</p><h2 id="coverage-allowexternal" tabindex="-1">coverage.allowExternal <a class="header-anchor" href="#coverage-allowexternal" aria-label="Permalink to “coverage.allowExternal”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.allowExternal</code>, <code>--coverage.allowExternal=false</code></li></ul><p>Collect coverage of files outside the <a href="#root">project <code>root</code></a>.</p><h2 id="coverage-excludeafterremap" tabindex="-1">coverage.excludeAfterRemap <a class="header-anchor" href="#coverage-excludeafterremap" aria-label="Permalink to “coverage.excludeAfterRemap”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.excludeAfterRemap</code>, <code>--coverage.excludeAfterRemap=false</code></li></ul><p>Apply exclusions again after coverage has been remapped to original sources. This is useful when your source files are transpiled and may contain source maps of non-source files.</p><p>Use this option when you are seeing files that show up in report even if they match your <code>coverage.exclude</code> patterns.</p><h2 id="coverage-skipfull" tabindex="-1">coverage.skipFull <a class="header-anchor" href="#coverage-skipfull" aria-label="Permalink to “coverage.skipFull”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.skipFull</code>, <code>--coverage.skipFull=false</code></li></ul><p>Do not show files with 100% statement, branch, and function coverage.</p><h2 id="coverage-thresholds" tabindex="-1">coverage.thresholds <a class="header-anchor" href="#coverage-thresholds" aria-label="Permalink to “coverage.thresholds”">​</a></h2><p>Options for coverage thresholds.</p><p>If a threshold is set to a positive number, it will be interpreted as the minimum percentage of coverage required. For example, setting the lines threshold to <code>90</code> means that 90% of lines must be covered.</p><p>If a threshold is set to a negative number, it will be treated as the maximum number of uncovered items allowed. For example, setting the lines threshold to <code>-10</code> means that no more than 10 lines may be uncovered.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  coverage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    thresholds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Requires 90% function coverage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      functions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Require that no more than 10 lines are uncovered</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      lines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="coverage-thresholds-lines" tabindex="-1">coverage.thresholds.lines <a class="header-anchor" href="#coverage-thresholds-lines" aria-label="Permalink to “coverage.thresholds.lines”">​</a></h3><ul><li><strong>Type:</strong> <code>number</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.thresholds.lines=&lt;number&gt;</code></li></ul><p>Global threshold for lines.</p><h3 id="coverage-thresholds-functions" tabindex="-1">coverage.thresholds.functions <a class="header-anchor" href="#coverage-thresholds-functions" aria-label="Permalink to “coverage.thresholds.functions”">​</a></h3><ul><li><strong>Type:</strong> <code>number</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.thresholds.functions=&lt;number&gt;</code></li></ul><p>Global threshold for functions.</p><h3 id="coverage-thresholds-branches" tabindex="-1">coverage.thresholds.branches <a class="header-anchor" href="#coverage-thresholds-branches" aria-label="Permalink to “coverage.thresholds.branches”">​</a></h3><ul><li><strong>Type:</strong> <code>number</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.thresholds.branches=&lt;number&gt;</code></li></ul><p>Global threshold for branches.</p><h3 id="coverage-thresholds-statements" tabindex="-1">coverage.thresholds.statements <a class="header-anchor" href="#coverage-thresholds-statements" aria-label="Permalink to “coverage.thresholds.statements”">​</a></h3><ul><li><strong>Type:</strong> <code>number</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.thresholds.statements=&lt;number&gt;</code></li></ul><p>Global threshold for statements.</p><h3 id="coverage-thresholds-perfile" tabindex="-1">coverage.thresholds.perFile <a class="header-anchor" href="#coverage-thresholds-perfile" aria-label="Permalink to “coverage.thresholds.perFile”">​</a></h3><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.thresholds.perFile</code>, <code>--coverage.thresholds.perFile=false</code></li></ul><p>Check thresholds per file.</p><h3 id="coverage-thresholds-autoupdate" tabindex="-1">coverage.thresholds.autoUpdate <a class="header-anchor" href="#coverage-thresholds-autoupdate" aria-label="Permalink to “coverage.thresholds.autoUpdate”">​</a></h3><ul><li><strong>Type:</strong> <code>boolean | function</code></li><li><strong>Default:</strong> <code>false</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.thresholds.autoUpdate=&lt;boolean&gt;</code></li></ul><p>Update all threshold values <code>lines</code>, <code>functions</code>, <code>branches</code> and <code>statements</code> to configuration file when current coverage is better than the configured thresholds. This option helps to maintain thresholds when coverage is improved.</p><p>You can also pass a function for formatting the updated threshold values:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  coverage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    thresholds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Update thresholds without decimals</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      autoUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newThreshold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">floor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newThreshold),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 95.85 -&gt; 95</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      functions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="coverage-thresholds-100" tabindex="-1">coverage.thresholds.100 <a class="header-anchor" href="#coverage-thresholds-100" aria-label="Permalink to “coverage.thresholds.100”">​</a></h3><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.thresholds.100</code>, <code>--coverage.thresholds.100=false</code></li></ul><p>Sets global thresholds to 100. Shortcut for <code>--coverage.thresholds.lines 100 --coverage.thresholds.functions 100 --coverage.thresholds.branches 100 --coverage.thresholds.statements 100</code>.</p><h3 id="coverage-thresholds-glob-pattern" tabindex="-1">coverage.thresholds[glob-pattern] <a class="header-anchor" href="#coverage-thresholds-glob-pattern" aria-label="Permalink to “coverage.thresholds[glob-pattern]”">​</a></h3><ul><li><strong>Type:</strong> <code>{ statements?: number functions?: number branches?: number lines?: number }</code></li><li><strong>Default:</strong> <code>undefined</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li></ul><p>Sets thresholds for files matching the glob pattern.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Vitest counts all files, including those covered by glob-patterns, into the global coverage thresholds. This is different from Jest behavior.</p></div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  coverage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    thresholds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Thresholds for all files</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      functions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Thresholds for matching glob pattern</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;src/utils/**.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        statements: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        functions: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        branches: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">85</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        lines: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Files matching this pattern will only have lines thresholds set.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Global thresholds are not inherited.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;**/math.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        lines: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="coverage-thresholds-glob-pattern-100" tabindex="-1">coverage.thresholds[glob-pattern].100 <a class="header-anchor" href="#coverage-thresholds-glob-pattern-100" aria-label="Permalink to “coverage.thresholds[glob-pattern].100”">​</a></h3><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li></ul><p>Sets thresholds to 100 for files matching the glob pattern.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  coverage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    thresholds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Thresholds for all files</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      functions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Thresholds for matching glob pattern</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;src/utils/**.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;**/math.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="coverage-ignoreclassmethods" tabindex="-1">coverage.ignoreClassMethods <a class="header-anchor" href="#coverage-ignoreclassmethods" aria-label="Permalink to “coverage.ignoreClassMethods”">​</a></h2><ul><li><strong>Type:</strong> <code>string[]</code></li><li><strong>Default:</strong> <code>[]</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.ignoreClassMethods=&lt;method&gt;</code></li></ul><p>Set to array of class method names to ignore for coverage. See <a href="https://github.com/istanbuljs/nyc#ignoring-methods" target="_blank" rel="noreferrer">istanbul documentation</a> for more information.</p><h2 id="coverage-watermarks" tabindex="-1">coverage.watermarks <a class="header-anchor" href="#coverage-watermarks" aria-label="Permalink to “coverage.watermarks”">​</a></h2><ul><li><strong>Type:</strong></li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  statements</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [number, number],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  functions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [number, number],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  branches</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [number, number],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  lines</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [number, number]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><strong>Default:</strong></li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  statements</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  functions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  lines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.watermarks.statements=50,80</code>, <code>--coverage.watermarks.branches=50,80</code></li></ul><p>Watermarks for statements, lines, branches and functions. See <a href="https://github.com/istanbuljs/nyc#high-and-low-watermarks" target="_blank" rel="noreferrer">istanbul documentation</a> for more information.</p><h2 id="coverage-processingconcurrency" tabindex="-1">coverage.processingConcurrency <a class="header-anchor" href="#coverage-processingconcurrency" aria-label="Permalink to “coverage.processingConcurrency”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>Math.min(20, os.availableParallelism?.() ?? os.cpus().length)</code></li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.processingConcurrency=&lt;number&gt;</code></li></ul><p>Concurrency limit used when processing the coverage results.</p><h2 id="coverage-customprovidermodule" tabindex="-1">coverage.customProviderModule <a class="header-anchor" href="#coverage-customprovidermodule" aria-label="Permalink to “coverage.customProviderModule”">​</a></h2><ul><li><strong>Type:</strong> <code>string</code></li><li><strong>Available for providers:</strong> <code>&#39;custom&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.customProviderModule=&lt;path or module name&gt;</code></li></ul><p>Specifies the module name or path for the custom coverage provider module. See <a href="/guide/coverage.html#custom-coverage-provider">Guide - Custom Coverage Provider</a> for more information.</p><h2 id="coverage-htmldir" tabindex="-1">coverage.htmlDir <a class="header-anchor" href="#coverage-htmldir" aria-label="Permalink to “coverage.htmlDir”">​</a></h2><ul><li><strong>Type:</strong> <code>string</code></li><li><strong>Default:</strong> Automatically inferred from <code>html</code>, <code>html-spa</code>, or <code>lcov</code> coverage reporters</li><li><strong>CLI:</strong> <code>--coverage.htmlDir=&lt;path&gt;</code></li></ul><p>Directory of HTML coverage output to be served in <a href="/guide/ui.html">Vitest UI</a> and <a href="/guide/reporters.html#html-reporter">HTML reporter</a>.</p><p>This is automatically configured when using builtin coverage reporters that produce HTML output (<code>html</code>, <code>html-spa</code>, and <code>lcov</code>). Use this option to override with a custom coverage reporting location when using custom coverage reporters.</p><p>Note that setting this option does not change where coverage HTML report is generated. Configure the <code>coverage.reporter</code> option to change the directory instead.</p><h2 id="coverage-changed" tabindex="-1">coverage.changed <a class="header-anchor" href="#coverage-changed" aria-label="Permalink to “coverage.changed”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean | string</code></li><li><strong>Default:</strong> <code>false</code> (inherits from <code>test.changed</code>)</li><li><strong>Available for providers:</strong> <code>&#39;v8&#39; | &#39;istanbul&#39;</code></li><li><strong>CLI:</strong> <code>--coverage.changed</code>, <code>--coverage.changed=&lt;commit/branch&gt;</code></li></ul><p>Collect coverage only for files changed since a specified commit or branch. When set to <code>true</code>, it uses staged and unstaged changes.</p>`,111))])}const y=l(p,[["render",d]]);export{f as __pageData,y as default};
