import{_ as a,o as i,i as t,R as o}from"./chunks/framework.XDTXXE-5.js";const f=JSON.parse('{"title":"fakeTimers | Config","description":"","frontmatter":{"title":"fakeTimers | Config","outline":"deep"},"headers":[],"relativePath":"config/faketimers.md","filePath":"config/faketimers.md","lastUpdated":1771601921000}'),r={name:"config/faketimers.md"};function s(n,e,l,c,d,m){return i(),t("div",null,[...e[0]||(e[0]=[o('<h1 id="faketimers" tabindex="-1">fakeTimers <a class="header-anchor" href="#faketimers" aria-label="Permalink to “fakeTimers”">​</a></h1><ul><li><strong>Type:</strong> <code>FakeTimerInstallOpts</code></li></ul><p>Options that Vitest will pass down to <a href="https://www.npmjs.com/package/@sinonjs/fake-timers" target="_blank" rel="noreferrer"><code>@sinon/fake-timers</code></a> when using <a href="/api/vi.html#vi-usefaketimers"><code>vi.useFakeTimers()</code></a>.</p><h2 id="faketimers-now" tabindex="-1">fakeTimers.now <a class="header-anchor" href="#faketimers-now" aria-label="Permalink to “fakeTimers.now”">​</a></h2><ul><li><strong>Type:</strong> <code>number | Date</code></li><li><strong>Default:</strong> <code>Date.now()</code></li></ul><p>Installs fake timers with the specified Unix epoch.</p><h2 id="faketimers-tofake" tabindex="-1">fakeTimers.toFake <a class="header-anchor" href="#faketimers-tofake" aria-label="Permalink to “fakeTimers.toFake”">​</a></h2><ul><li><strong>Type:</strong> <code>(&#39;setTimeout&#39; | &#39;clearTimeout&#39; | &#39;setImmediate&#39; | &#39;clearImmediate&#39; | &#39;setInterval&#39; | &#39;clearInterval&#39; | &#39;Date&#39; | &#39;nextTick&#39; | &#39;hrtime&#39; | &#39;requestAnimationFrame&#39; | &#39;cancelAnimationFrame&#39; | &#39;requestIdleCallback&#39; | &#39;cancelIdleCallback&#39; | &#39;performance&#39; | &#39;queueMicrotask&#39;)[]</code></li><li><strong>Default:</strong> everything available globally except <code>nextTick</code> and <code>queueMicrotask</code></li></ul><p>An array with names of global methods and APIs to fake.</p><p>To only mock <code>setTimeout()</code> and <code>nextTick()</code>, specify this property as <code>[&#39;setTimeout&#39;, &#39;nextTick&#39;]</code>.</p><p>Mocking <code>nextTick</code> is not supported when running Vitest inside <code>node:child_process</code> by using <code>--pool=forks</code>. NodeJS uses <code>process.nextTick</code> internally in <code>node:child_process</code> and hangs when it is mocked. Mocking <code>nextTick</code> is supported when running Vitest with <code>--pool=threads</code>.</p><h2 id="faketimers-looplimit" tabindex="-1">fakeTimers.loopLimit <a class="header-anchor" href="#faketimers-looplimit" aria-label="Permalink to “fakeTimers.loopLimit”">​</a></h2><ul><li><strong>Type:</strong> <code>number</code></li><li><strong>Default:</strong> <code>10_000</code></li></ul><p>The maximum number of timers that will be run when calling <a href="/api/vi.html#vi-runalltimers"><code>vi.runAllTimers()</code></a>.</p><h2 id="faketimers-shouldadvancetime" tabindex="-1">fakeTimers.shouldAdvanceTime <a class="header-anchor" href="#faketimers-shouldadvancetime" aria-label="Permalink to “fakeTimers.shouldAdvanceTime”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>false</code></li></ul><p>Tells @sinonjs/fake-timers to increment mocked time automatically based on the real system time shift (e.g. the mocked time will be incremented by 20ms for every 20ms change in the real system time).</p><h2 id="faketimers-advancetimedelta" tabindex="-1">fakeTimers.advanceTimeDelta <a class="header-anchor" href="#faketimers-advancetimedelta" aria-label="Permalink to “fakeTimers.advanceTimeDelta”">​</a></h2><ul><li><strong>Type:</strong> <code>number</code></li><li><strong>Default:</strong> <code>20</code></li></ul><p>Relevant only when using with <code>shouldAdvanceTime: true</code>. increment mocked time by advanceTimeDelta ms every advanceTimeDelta ms change in the real system time.</p><h2 id="faketimers-shouldclearnativetimers" tabindex="-1">fakeTimers.shouldClearNativeTimers <a class="header-anchor" href="#faketimers-shouldclearnativetimers" aria-label="Permalink to “fakeTimers.shouldClearNativeTimers”">​</a></h2><ul><li><strong>Type:</strong> <code>boolean</code></li><li><strong>Default:</strong> <code>true</code></li></ul><p>Tells fake timers to clear &quot;native&quot; (i.e. not fake) timers by delegating to their respective handlers. When disabled, it can lead to potentially unexpected behavior if timers existed prior to starting fake timers session.</p>',23)])])}const k=a(r,[["render",s]]);export{f as __pageData,k as default};
